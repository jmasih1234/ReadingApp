{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ReadingApp — Demo UI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="{% static 'appsetup/favicon.svg' %}" type="image/svg+xml">
  <link rel="stylesheet" href="{% static 'appsetup/style.css' %}?v=3">
</head>
<body>
  <main class="container">
    <div class="card">
      <section class="card-body">

        <div class="top-action hidden">
          <button id="start-btn" class="btn primary">Start</button>
          <button id="end-btn" class="btn danger hidden">Finished Reading</button>
        </div>

        <article class="text-block reading-area">
          <p id="reading-text">
            This is where our text will show up for the reader...
          </p>
        </article>

  <div id="ordering-setup" class="ordering-setup">
    <div class="settings-label">Participant & trial setup</div>
    <div class="settings-button setup-row">
      <label for="participant-id" class="label-default">Participant ID:</label>
      <input id="participant-id" type="text" placeholder="e.g., P001" class="input-style">
    </div>
    <div class="settings-label">Choose the order of 8 conditions (each will repeat 3 trials)</div>
    <div class="condition-pool" id="condition-pool"></div>

    <div class="sequence-wrapper">
      <div class="settings-label">Sequence (8 groups → each group applies to 3 sections)</div>
      <div class="sequence-slots" id="sequence-slots"></div>
    </div>

    <div class="ordering-actions">
      <button id="clear-sequence" class="btn outline">Clear</button>
      <button id="begin-trial" class="btn primary" disabled>Begin trial</button>
    </div>
  </div>

  <div id="preference-survey" class="preference-survey hidden">
    <div class="survey-header">
      <h2>Post-Trial Survey</h2>
      <p>Drag and drop to rank the 8 reading conditions from <strong>most preferred</strong> (top) to <strong>least preferred</strong> (bottom).</p>
    </div>
    <div id="survey-ranking-area" class="survey-ranking-area">
    </div>
    <button id="submit-survey" class="btn primary submit-button">Submit Survey</button>
  </div>

      </section>
    </div>
  </main>

  <script src="{% static 'appsetup/script.js' %}?v=3"></script>
  {{ sections|json_script:"sections-data" }}
</body>
</html>